<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>WebSocket Example</title>
  </head>
  <body>
    <h1>WebSocket Example</h1>
    <div id="output"></div>
    <form>
      <input type="number" id="num1" required>
      <select id="method" required>
        <option value="add">+</option>
        <option value="subtract">-</option>
        <option value="divide">:</option>
        <option value="multiply">*</option>
      </select>
      <input type="number" id="num2" required>
      <button type="submit" id="send">Send</button>
    </form>

    <script>
      const output = document.getElementById("output");
      const input = document.getElementById("input");
      const sendButton = document.getElementById("send");

      const socket = new WebSocket("ws://localhost:8000");

      socket.onopen = () => {
        output.innerHTML += "WebSocket connection opened<br>";
      };

      socket.onmessage = (event) => {
        output.innerHTML += `Result: ${event.data}<br>`;
      };

      socket.onclose = () => {
        output.innerHTML += "WebSocket connection closed<br>";
      };

      sendButton.addEventListener("click", (event) => {
        event.preventDefault();
        const message = {
            method: method.value,
            num1: num1.value,
            num2: num2.value
        }
        socket.send(JSON.stringify(message));
      });
    </script>
  </body>
</html>
